{% extends "admin/base_site.html" %}
{% load i18n admin_urls static admin_list %}

{% block title %}{{ title }} | {{ site_title|default:_('Django site admin') }}{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
<a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
&rsaquo; <a href="{% url 'admin:app_list' app_label='api' %}">Api</a>
&rsaquo; Writing
</div>
{% endblock %}

{% block content %}
<h1>Writing Content Management</h1>

<div style="margin-bottom: 30px;">
    <h2>Writing Lessons</h2>
    <p><a href="{% url 'admin:api_writinglesson_changelist' %}" class="addlink">Manage Writing Lessons</a></p>
    <table style="width: 100%;">
        <thead>
            <tr>
                <th>Title</th>
                <th>Difficulty</th>
                <th>Tier</th>
                <th>Display Order</th>
                <th>Questions</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for lesson in lessons|slice:":10" %}
            <tr>
                <td><a href="{% url 'admin:api_lesson_change' lesson.id %}">{{ lesson.title }}</a></td>
                <td>{{ lesson.difficulty }}</td>
                <td>{{ lesson.tier }}</td>
                <td>{{ lesson.display_order }}</td>
                <td>{{ lesson.questions.count }}</td>
                <td>
                    <a href="{% url 'admin:api_lesson_change' lesson.id %}">Edit</a>
                </td>
            </tr>
            {% empty %}
            <tr><td colspan="6">No writing lessons yet.</td></tr>
            {% endfor %}
        </tbody>
    </table>
    {% if lessons|length > 10 %}
    <p><a href="{% url 'admin:api_writinglesson_changelist' %}">View all {{ lessons|length }} writing lessons →</a></p>
    {% endif %}
</div>

<div style="margin-bottom: 30px;">
    <h2>Writing Sections</h2>
    <p><a href="{% url 'admin:api_writingsection_changelist' %}" class="addlink">Manage Writing Sections</a></p>
    <table style="width: 100%;">
        <thead>
            <tr>
                <th>Title</th>
                <th>Difficulty</th>
                <th>Tier</th>
                <th>Display Order</th>
                <th>Questions</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for section in writing_sections|slice:":10" %}
            <tr>
                <td><a href="{% url 'admin:api_writingsection_change' section.id %}">{{ section.title }}</a></td>
                <td>{{ section.difficulty }}</td>
                <td>{{ section.tier }}</td>
                <td>{{ section.display_order }}</td>
                <td>{{ section.questions.count }}</td>
                <td>
                    <a href="{% url 'admin:api_writingsection_change' section.id %}">Edit</a>
                </td>
            </tr>
            {% empty %}
            <tr><td colspan="6">No writing sections yet.</td></tr>
            {% endfor %}
        </tbody>
    </table>
    {% if writing_sections|length > 10 %}
    <p><a href="{% url 'admin:api_writingsection_changelist' %}">View all {{ writing_sections|length }} writing sections →</a></p>
    {% endif %}
</div>

<p><strong>Tip:</strong> Use the "Move up" and "Move down" actions in the list views to reorder items.</p>
{% endblock %}







